{"version":3,"sources":["webpack:///./src/views/article/index.vue?0f46","webpack:///src/views/article/index.vue","webpack:///./src/views/article/index.vue?a06c","webpack:///./src/views/article/index.vue","webpack:///./src/views/article/index.vue?4d7b","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","path","_v","directives","name","rawName","value","expression","ref","ruleForm","model","callback","$$v","status","channelId","_l","item","index","key","id","rangeDate","loading","on","$event","loadArticle","_s","totalCount","staticStyle","articles","scopedSlots","_u","fn","scope","row","cover","images","srticleStatus","type","text","$router","push","toString","DeleteArticle","pageSize","page","currentChange","staticRenderFns","components","props","data","region","delivery","channels","pageDom","computed","watch","created","getArticle","getArticleChannels","mounted","methods","submitForm","$refs","formName","validate","valid","console","log","alert","resetForm","resetFields","per_page","channel_id","begin_pubdate","end_pubdate","$confirm","confirmButtonText","cancelButtonText","center","message","component","login","request","method","url","userProfile","params","deleteArticle","articleId","addArticle","draft","param","getupdateArticle","updateArticle","updateUserPhoto","updateUserProfile"],"mappings":"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","file":"js/chunk-1997ad0d.b9b8eecf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-card',{staticClass:\"box-card filter-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"活动管理\")])]),_c('el-breadcrumb-item',[_vm._v(\"活动列表\")]),_c('el-breadcrumb-item',[_vm._v(\"活动详情\")])],1)],1),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"resource\"}},[_c('el-radio-group',{model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_c('el-radio',{attrs:{\"label\":null}},[_vm._v(\"全部\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"草稿\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"待审核\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"通过审核\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"审核失败\")]),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"已删除\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"频道\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择频道\"},model:{value:(_vm.channelId),callback:function ($$v) {_vm.channelId=$$v},expression:\"channelId\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":_vm.channelId}}),_vm._l((_vm.channels),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})})],2)],1),_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.rangeDate),callback:function ($$v) {_vm.rangeDate=$$v},expression:\"rangeDate\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.loadArticle(_vm.status)}}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"根据筛选条件共才查询到 \"),_c('i',[_vm._v(_vm._s(_vm.totalCount))]),_vm._v(\" 条结果：\")])]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.articles,\"border\":\"\",\"stripe\":\"\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":scope.row.cover.images[0],\"fit\":\"cover\",\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\" 加载中\"),_c('span',{staticClass:\"dot\"},[_vm._v(\"...\")])])])]}}])}),_c('el-table-column',{staticClass:\"table-title\",attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.srticleStatus[scope.row.status].type}},[_vm._v(_vm._s(_vm.srticleStatus[scope.row.status].text))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pubdate\",\"label\":\"发布时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){_vm.$router.push('/publish?id=' + scope.row.id.toString())}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.DeleteArticle(scope.row.id)}}})]}}])})],1),_c('el-pagination',{ref:\"pageDom\",attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.totalCount,\"page-size\":_vm.pageSize,\"disabled\":_vm.loading,\"current-page\":_vm.page},on:{\"current-change\":_vm.currentChange,\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n      <el-card class=\"box-card filter-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <!-- 面包屑 -->\n          <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item><a href=\"/\">活动管理</a></el-breadcrumb-item>\n            <el-breadcrumb-item>活动列表</el-breadcrumb-item>\n            <el-breadcrumb-item>活动详情</el-breadcrumb-item>\n          </el-breadcrumb>\n        </div>\n        <!-- 数据筛选表单 -->\n        <el-form\n          :model=\"ruleForm\"\n          ref=\"ruleForm\"\n          class=\"demo-ruleForm\"\n          size=\"mini\"\n          v-loading=\"loading\"\n        >\n          <el-form-item label=\"状态\" prop=\"resource\">\n            <el-radio-group v-model=\"status\">\n              <el-radio :label=\"null\">全部</el-radio>\n              <el-radio :label=\"0\">草稿</el-radio>\n              <el-radio :label=\"1\">待审核</el-radio>\n              <el-radio :label=\"2\">通过审核</el-radio>\n              <el-radio :label=\"3\">审核失败</el-radio>\n              <el-radio :label=\"4\">已删除</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"频道\">\n            <el-select v-model=\"channelId\" placeholder=\"请选择频道\">\n              <el-option\n                label=\"全部\"\n                :value=\"channelId\"\n              >\n              </el-option>\n              <el-option\n                :label=\"item.name\"\n                :value=\"item.id\"\n                v-for=\"(item, index) in channels\"\n                :key=\"index\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"日期\">\n            <el-date-picker\n              v-model=\"rangeDate\"\n              type=\"datetimerange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              format=\"yyyy-MM-dd\"\n              value-format=\"yyyy-MM-dd\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              @click=\"loadArticle(status)\"\n              :disabled=\"loading\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>根据筛选条件共才查询到 <i>{{totalCount}}</i> 条结果：</span>\n        </div>\n        <!-- 数据列表 -->\n        <el-table\n          :data=\"articles\"\n          style=\"width: 100%\"\n          border\n          stripe\n          size=\"mini\"\n          v-loading=\"loading\">\n          <el-table-column\n            prop=\"date\"\n            label=\"封面\"\n          >\n            <template slot-scope=\"scope\">\n              <el-image\n                style=\"width: 100px; height: 100px\"\n                :src=\"scope.row.cover.images[0]\"\n                fit=\"cover\"\n                lazy>\n                <div slot=\"placeholder\" class=\"image-slot\">\n                  加载中<span class=\"dot\">...</span>\n                </div>\n              </el-image>\n            </template>\n          </el-table-column>\n          <el-table-column\n            class=\"table-title\"\n            prop=\"title\"\n            label=\"标题\"\n          >\n          </el-table-column>\n          <el-table-column\n            prop=\"status\"\n            label=\"状态\"\n          >\n            <template slot-scope=\"scope\">\n              <el-tag\n              :type=\"srticleStatus[scope.row.status].type\"\n              >{{srticleStatus[scope.row.status].text}}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"pubdate\"\n            label=\"发布时间\"\n          >\n          </el-table-column>\n          <el-table-column\n            prop=\"date\"\n            label=\"操作\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button type=\"primary\" icon=\"el-icon-edit\" circle  @click=\"$router.push('/publish?id=' + scope.row.id.toString())\"></el-button>\n              <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"DeleteArticle(scope.row.id)\"></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- 列表分页 -->\n        <el-pagination\n          layout=\"prev, pager, next\"\n          :total=\"totalCount\"\n          @current-change=\"currentChange\"\n          :page-size=\"pageSize\"\n          ref='pageDom'\n          :disabled=\"loading\"\n          :current-page.sync=\"page\"\n          >\n        </el-pagination>\n      </el-card>\n  </div>\n</template>\n\n<script>\nimport { getArticle, getArticleChannels, deleteArticle } from '@/api/user'\nexport default {\n  name: 'ArticleIndex',\n  components: {},\n  props: {},\n  data () {\n    return {\n      ruleForm: {\n        region: '',\n        delivery: false,\n        type: []\n      },\n      articles: [],\n      totalCount: 0, // 总数据条数\n      pageSize: 10, // 每页大小\n      status: null, // 状态\n      channels: [], // 频道\n      channelId: null, // 频道Id\n      pageDom: null,\n      rangeDate: null,\n      loading: true, // 是否显示加载\n      page: 1, // 默认第一页\n      srticleStatus: [\n        { status: 0, text: '草稿', type: 'warning' },\n        { status: 1, text: '待审核', type: '' },\n        { status: 2, text: '审核成功', type: 'success' },\n        { status: 3, text: '审核失败', type: 'danger' },\n        { status: 4, text: '已删除', type: 'info' }\n      ]\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {\n    this.getArticle()\n    this.getArticleChannels()\n  },\n  mounted () {},\n  methods: {\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert('submit!')\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    // 请求数据默认第一页\n    getArticle (page = 1) {\n      this.loading = true // 显示加载\n      getArticle({\n        page, // 第几页\n        per_page: this.pageSize, // 每页条数\n        status: this.status, // 状态\n        channel_id: this.channelId, // 频道\n        begin_pubdate: this.rangeDate ? this.rangeDate[0] : null, // 开始日期\n        end_pubdate: this.rangeDate ? this.rangeDate[1] : null // 结束日期\n      }).then(res => {\n        // console.log(res)\n        const { results, total_count: totalCount } = res.data.data\n        this.articles = results // 保存数据\n        this.totalCount = totalCount // 总条数\n        this.loading = false // 关闭加载\n      })\n    },\n    // 分页\n    currentChange (page) {\n      console.log(page)\n      this.getArticle(page)\n    },\n    // 查询\n    loadArticle (status) {\n      this.getArticle()\n    },\n    // 获取频道\n    getArticleChannels () {\n      getArticleChannels().then(res => {\n        this.channels = res.data.data.channels\n      })\n    },\n    // 删除文章\n    DeleteArticle (id) {\n      this.$confirm('此操作将永久删除该文章, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        center: true\n      }).then(() => {\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        })\n        // 删除成功\n        deleteArticle(id)\n        this.getArticle(this.page)\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.filter-card{\n  margin-bottom: 30px;\n}\n.article-img{\n  width: 60px;\n  background-size: cover;\n}\n/deep/.cell{\n  overflow: hidden;\n  // text-overflow: ellipsis;\n  // white-space: nowrap;\n\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=87c11064&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=87c11064&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87c11064\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=87c11064&lang=less&scoped=true&\"","import request from '@/utils/request'\n\n// 用户登陆\nexport const login = (data) => {\n  return request({\n    method: 'POST',\n    url: '/mp/v1_0/authorizations',\n    data\n  })\n}\n\n// 获取用户信息\nexport const userProfile = () => {\n  return request({\n    method: 'GET',\n    url: '/mp/v1_0/user/profile'\n    // headers: {\n    //   Authorization: `Bearer ${user.token}`\n    // }\n  })\n}\n\n// 获取文章列表\nexport const getArticle = (params) => {\n  return request({\n    method: 'GET',\n    url: '/mp/v1_0/articles',\n    // Body 参数使用 data 设置\n    // Query 参数使用 params 设置\n    // Headers 参数使用 header 设置\n    params\n  })\n}\n\n// 获取文章频道\nexport const getArticleChannels = () => {\n  return request({\n    method: 'GET',\n    url: '/mp/v1_0/channels'\n  })\n}\n\n// 删除文章\nexport const deleteArticle = (articleId) => {\n  return request({\n    method: 'DELETE',\n    url: `/mp/v1_0/articles/${articleId}`\n  })\n}\n\n// 发布文章\nexport const addArticle = (data, draft = false) => {\n  return request({\n    method: 'POST',\n    url: '/mp/v1_0/articles',\n    param: {\n      draft // 是否存为草稿（true 为草稿）\n    },\n    data\n  })\n}\n\n// 获取指定文章\nexport const getupdateArticle = articleId => {\n  return request({\n    method: 'GET',\n    url: `/mp/v1_0/articles/${articleId}`\n  })\n}\n\n// 编辑文章\nexport const updateArticle = (articleId, data, draft = false) => {\n  return request({\n    method: 'PUT',\n    url: `/mp/v1_0/articles/${articleId}`,\n    param: {\n      draft // 是否存为草稿（true 为草稿）\n    },\n    data\n  })\n}\n\n// 修改用户头像\nexport const updateUserPhoto = data => {\n  return request({\n    method: 'PATCH',\n    url: '/mp/v1_0/user/photo',\n    data\n  })\n}\n\n// 修改账户信息\nexport const updateUserProfile = data => {\n  return request({\n    method: 'PATCH',\n    url: '/mp/v1_0/user/profile',\n    data\n  })\n}\n"],"sourceRoot":""}